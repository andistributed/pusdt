# 回调说明

通过`POST /api/v1/order/create-transaction`创建的订单，自`v1.19.0`版本开始，支持三种回调事件。

- 支付成功
- 等待支付
- 支付超时

首先，三种回调事件的数据结构完全一样，唯一不通的就是`status`整型字段，其目前代表的含义是：

```
3 // 订单过期
2 // 订单成功
1 // 等待支付
```

## 差异说明

### 支付成功

订单支付成功后，系统会向商户端发送支付成功回调通知，字段`status`的值为`2`。
当响应状态码是`200`，并且响应内容为`ok`时，系统认定为回调成功；否则认为回调失败。

失败会进行重试，分钟间隔数：`2 4 8 16 32 64 ...`以此类推，当然通过机器人也可以手动标记回调成功。

### 等待支付

当订单创建后，系统会向商户端发送等待支付的回调通知，字段`status`的值为`1`，频率为每分钟一次，状态码为`200`认为通知成功，不会重试。

### 支付超时

当订单创建后，系统会向商户端发送支付超时的回调通知，字段`status`的值为`3`，只会在订单过期时发送一次，状态码为`200`
认为通知成功，不会重试。